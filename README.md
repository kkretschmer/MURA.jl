# MURA

[![Build Status](https://travis-ci.org/kkretschmer/MURA.jl.svg?branch=master)](https://travis-ci.org/kkretschmer/MURA.jl)
[![Coverage Status](https://coveralls.io/repos/github/kkretschmer/MURA.jl/badge.svg?branch=master)](https://coveralls.io/github/kkretschmer/MURA.jl?branch=master)

Generate [modified uniformly redundant arrays][mura] (MURAs) as
described in the publication below.  These arrays are used for [coded
aperture][ca] imaging.

[mura]: https://en.wikipedia.org/wiki/Modified_Uniformly_Redundant_Array
[ca]: https://en.wikipedia.org/wiki/Coded_aperture

> S. R. Gottesman and E. E. Fenimore. New family of binary arrays for
> coded aperture imaging. [Appl. Opt., 28:4344–4352, October
> 1989][ads]. doi:[10.1364/AO.28.004344](https://doi.org/10.1364/AO.28.004344).

[ads]: http://adsabs.harvard.edu/abs/1989ApOpt..28.4344G

Currently implements linear and square patterns and their decoding arrays.
Square patterns can be mosaicked.

## Linear patterns

The list of valid linear MURA pattern lengths `L`, where `L` is prime
and `L % 4 == 1` up to the first one greater or equal to `n` can be
obtained by:

```julia
linearlengths(n)
```

You can generate a linear MURA pattern of length `L` by calling:

```julia
linearpattern(L)
```

The corresponding decoding pattern can be generated by:

```julia
lineardecoding(L)
```

Both can be made symmetric under reversal by `symmshift`, e.g.:

```julia
29 |> linearpattern |> symmshift |> x -> join(x, " ")
```

    "0 1 0 0 0 1 0 1 1 1 1 0 0 1 0 1 0 0 1 1 1 1 0 1 0 0 0 1 0"

## Hexagonal patterns

Not implemented

## Square patterns

You can generate a square MURA pattern with `p` × `p` elements, where
`p` is prime by calling:

```julia
squarepattern(p)
```

The corresponding decoding pattern can be generated by:

```julia
squaredecoding(p)
```

Both can be made symmetric under rotation by 180° by `symmshift`.  A
mosaic of 2 × 2 patterns, excluding the first row and the first
column, can be generated by:

```julia
squaremosaic(p)
```

The list of valid mosaic lengths `p` up to the first one greater or
equal to `n` can be obtained from:

```julia
mosaiclengths(n)
```
